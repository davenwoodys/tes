<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AsoyJr Store - Digital Goods Mobile</title>
    <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
    <style>
        :root {
            --bg: #0f172a;
            --surface: #172544;
            --surface-alt: #1e3058;
            --text: #e2e8f0;
            --muted: #94a3b8;
            --accent: #38bdf8;
            --accent-strong: #0ea5e9;
            --radius-lg: 18px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', 'Poppins', 'Segoe UI', sans-serif;
            background: var(--bg);
            color: var(--text);
            min-height: 100vh;
            display: flex;
            justify-content: center;
        }

        body.no-scroll {
            overflow: hidden;
        }

        a {
            color: inherit;
            text-decoration: none;
        }

        ul {
            list-style: none;
        }

        button {
            font-family: inherit;
        }

        .app {
            width: min(100%, 420px);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            background: rgba(15, 23, 42, 0.92);
        }

        .header {
            position: sticky;
            top: 0;
            z-index: 20;
            background: rgba(15, 23, 42, 0.97);
            border-bottom: 1px solid rgba(148, 163, 184, 0.12);
        }

        .navbar {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 16px 20px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
            font-size: 1.1rem;
            color: var(--text);
        }

        .logo i {
            font-size: 1.4rem;
            color: var(--accent);
        }

        .hamburger-btn {
            display: flex;
            flex-direction: column;
            gap: 5px;
            background: none;
            border: none;
            cursor: pointer;
        }

        .hamburger-btn .bar {
            width: 24px;
            height: 3px;
            border-radius: 999px;
            background: var(--text);
            transition: transform 0.2s ease, opacity 0.2s ease;
        }

        .hamburger-btn.active .bar:nth-child(1) {
            transform: translateY(8px) rotate(45deg);
        }

        .hamburger-btn.active .bar:nth-child(2) {
            opacity: 0;
        }

        .hamburger-btn.active .bar:nth-child(3) {
            transform: translateY(-8px) rotate(-45deg);
        }

        .nav-menu {
            display: none;
            flex-direction: column;
            gap: 12px;
            padding: 12px 20px 20px;
            background: rgba(15, 23, 42, 0.97);
            border-bottom: 1px solid rgba(148, 163, 184, 0.12);
        }

        .nav-menu.show {
            display: flex;
        }

        .nav-menu a {
            padding: 12px 0;
            font-weight: 500;
            color: var(--text);
        }

        .nav-menu .btn {
            width: 100%;
            justify-content: center;
        }

        main {
            flex: 1;
            padding: 0 20px 48px;
        }

        section {
            margin-top: 32px;
        }

        #hero {
            margin-top: 28px;
        }

        .hero-content {
            display: flex;
            flex-direction: column;
            gap: 18px;
            text-align: center;
            align-items: center;
        }

        .hero-badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.08em;
            background: rgba(14, 165, 233, 0.12);
            color: var(--accent);
            padding: 6px 12px;
            border-radius: 999px;
        }

        .hero-content h1 {
            font-size: 1.9rem;
            line-height: 1.3;
            color: #f8fafc;
        }

        .hero-content p {
            color: var(--muted);
            font-size: 0.95rem;
            line-height: 1.6;
        }

        .hero-actions {
            display: flex;
            flex-direction: column;
            gap: 12px;
            width: 100%;
        }

        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            padding: 12px 16px;
            border-radius: 12px;
            font-weight: 600;
            border: none;
            cursor: pointer;
            transition: transform 0.2s ease, background 0.2s ease;
        }

        .btn-primary {
            background: var(--accent);
            color: #0b1120;
        }

        .btn-primary:hover,
        .btn-primary:focus-visible {
            background: var(--accent-strong);
            transform: translateY(-2px);
        }

        .btn-ghost {
            background: rgba(148, 163, 184, 0.12);
            color: var(--text);
        }

        .btn-ghost:hover,
        .btn-ghost:focus-visible {
            background: rgba(148, 163, 184, 0.22);
            transform: translateY(-2px);
        }

        .hero-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(110px, 1fr));
            gap: 12px;
            width: 100%;
        }

        .stat-card {
            background: rgba(15, 23, 42, 0.82);
            border: 1px solid rgba(148, 163, 184, 0.16);
            border-radius: var(--radius-lg);
            padding: 16px;
        }

        .stat-card h3 {
            font-size: 1.3rem;
            color: #f8fafc;
            margin-bottom: 4px;
        }

        .stat-card p {
            color: var(--muted);
            font-size: 0.8rem;
        }

        .section-header {
            text-align: center;
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-bottom: 24px;
        }

        .section-badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            align-self: center;
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.08em;
            color: var(--accent);
            background: rgba(14, 165, 233, 0.12);
            padding: 6px 12px;
            border-radius: 999px;
        }

        .section-header h2 {
            font-size: 1.4rem;
            color: #f8fafc;
        }

        .section-header p {
            color: var(--muted);
            font-size: 0.92rem;
            line-height: 1.6;
        }

        .product-grid {
            display: grid;
            gap: 16px;
        }

        .product-card {
            background: rgba(15, 23, 42, 0.82);
            border: 1px solid rgba(148, 163, 184, 0.14);
            border-radius: var(--radius-lg);
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 10px;
            cursor: pointer;
            transition: transform 0.2s ease, border-color 0.2s ease;
        }

        .product-card:active {
            transform: scale(0.99);
        }

        .product-image {
            width: 54px;
            height: 54px;
            border-radius: 16px;
            background: rgba(56, 189, 248, 0.12);
            color: var(--accent);
            display: grid;
            place-items: center;
            font-size: 1.8rem;
        }

        .product-category {
            font-size: 0.75rem;
            color: var(--accent);
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .product-name {
            font-size: 1.1rem;
            color: #f8fafc;
        }

        .product-description {
            color: var(--muted);
            font-size: 0.9rem;
            line-height: 1.5;
        }

        .product-duration {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            font-size: 0.85rem;
            color: var(--muted);
            margin-top: 4px;
        }

        .product-duration i {
            font-size: 1rem;
            color: var(--accent);
        }

        .product-price {
            font-weight: 600;
            color: var(--accent);
            font-size: 0.95rem;
            margin-top: 6px;
            display: inline-block;
        }

        .product-cta {
            margin-top: 8px;
            font-size: 0.85rem;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            color: var(--accent);
            font-weight: 600;
        }

        .footer {
            padding: 32px 20px 24px;
            background: rgba(15, 23, 42, 0.94);
            border-top: 1px solid rgba(148, 163, 184, 0.12);
        }

        .footer-grid {
            display: grid;
            gap: 24px;
        }

        .footer-col h4 {
            font-size: 1rem;
            margin-bottom: 8px;
            color: #f8fafc;
        }

        .footer-col p {
            color: var(--muted);
            font-size: 0.9rem;
            line-height: 1.6;
        }

        .footer-col ul {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .footer-col a,
        .footer-col span {
            color: var(--muted);
            font-size: 0.9rem;
            display: inline-flex;
            align-items: center;
            gap: 6px;
        }

        .footer-socials {
            display: flex;
            gap: 12px;
        }

        .footer-socials a {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: rgba(148, 163, 184, 0.14);
            display: grid;
            place-items: center;
            color: var(--text);
        }

        .footer-bottom {
            margin-top: 28px;
            font-size: 0.8rem;
            color: var(--muted);
            text-align: center;
        }

        #product-modal {
            position: fixed;
            inset: 0;
            background: rgba(8, 15, 28, 0.82);
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0 20px;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.2s ease;
            z-index: 40;
        }

        #product-modal.show {
            opacity: 1;
            pointer-events: auto;
        }

        .modal-content {
            background: var(--surface);
            border-radius: 20px;
            width: 100%;
            max-width: 420px;
            padding: 24px;
            display: flex;
            flex-direction: column;
            gap: 16px;
            position: relative;
        }

        .modal-close {
            position: absolute;
            top: 16px;
            right: 16px;
            font-size: 1.4rem;
            cursor: pointer;
        }

        .modal-body {
            display: flex;
            flex-direction: column;
            gap: 14px;
            text-align: center;
            align-items: center;
        }

        .modal-product-icon {
            width: 72px;
            height: 72px;
            border-radius: 20px;
            background: rgba(56, 189, 248, 0.12);
            color: var(--accent);
            display: grid;
            place-items: center;
            font-size: 2.6rem;
        }

        .modal-product-category {
            font-size: 0.78rem;
            letter-spacing: 0.08em;
            text-transform: uppercase;
            color: var(--accent);
        }

        .modal-product-title {
            font-size: 1.3rem;
            color: #f8fafc;
        }

        .modal-product-price {
            font-weight: 600;
            color: var(--accent);
            margin-top: 4px;
        }

        .modal-product-duration {
            display: none;
            align-items: center;
            gap: 8px;
            font-size: 0.9rem;
            color: var(--muted);
        }

        .modal-product-duration i {
            color: var(--accent);
            font-size: 1.1rem;
        }

        .modal-product-description {
            color: var(--muted);
            font-size: 0.92rem;
            line-height: 1.6;
        }

        .pricing-options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .option {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 14px 16px;
            border-radius: 14px;
            border: 1px solid rgba(148, 163, 184, 0.14);
            background: rgba(15, 23, 42, 0.7);
            font-size: 0.95rem;
            color: var(--text);
        }

        .option.selected {
            border-color: var(--accent);
            background: rgba(56, 189, 248, 0.16);
            color: #f8fafc;
        }

        .option-price {
            font-weight: 600;
            color: var(--accent);
        }

        .modal-buy-btn {
            width: 100%;
        }

        .admin-section {
            position: fixed;
            inset: 0;
            background: rgba(8, 15, 28, 0.88);
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0 20px;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.2s ease;
            z-index: 50;
        }

        .admin-section.active {
            opacity: 1;
            pointer-events: auto;
        }

        .login-box,
        .panel-card {
            width: 100%;
            max-width: 400px;
            background: var(--surface);
            border-radius: 20px;
            padding: 24px;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .login-box h2 {
            font-size: 1.2rem;
            color: #f8fafc;
            text-align: center;
        }

        .login-box input {
            width: 100%;
            padding: 12px;
            border-radius: 12px;
            border: 1px solid rgba(148, 163, 184, 0.2);
            background: rgba(15, 23, 42, 0.6);
            color: var(--text);
        }

        .login-box p {
            color: var(--muted);
            font-size: 0.85rem;
            text-align: center;
        }

        #login-error {
            color: #f87171;
            min-height: 18px;
        }

        .panel-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .panel-header h1 {
            font-size: 1.1rem;
            color: #f8fafc;
        }

        #add-product-form {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        #add-product-form label {
            font-size: 0.85rem;
            color: var(--muted);
        }

        #add-product-form input,
        #add-product-form select,
        #add-product-form textarea {
            width: 100%;
            padding: 12px;
            border-radius: 12px;
            border: 1px solid rgba(148, 163, 184, 0.2);
            background: rgba(15, 23, 42, 0.6);
            color: var(--text);
            font-size: 0.9rem;
        }

        #add-product-form textarea {
            resize: vertical;
            min-height: 96px;
        }

        #icon-preview-box {
            display: flex;
            flex-direction: column;
            gap: 8px;
            align-items: flex-start;
        }

        #icon-preview {
            width: 64px;
            height: 64px;
            border-radius: 16px;
            background: rgba(56, 189, 248, 0.12);
            color: var(--accent);
            display: grid;
            place-items: center;
            font-size: 2rem;
        }

        #toast-notification {
            position: fixed;
            left: 50%;
            bottom: 24px;
            transform: translateX(-50%) translateY(120%);
            background: var(--accent-strong);
            color: #0b1120;
            padding: 12px 18px;
            border-radius: 999px;
            font-weight: 600;
            transition: transform 0.2s ease;
            z-index: 60;
        }

        #toast-notification.show {
            transform: translateX(-50%) translateY(0);
        }
    </style>
</head>
<body>
    <div class="app">
        <header class="header">
            <div class="navbar">
                <a href="#hero" class="logo"><i class='bx bxs-color-fill'></i><span>AsoyJr</span>Store</a>
                <button class="hamburger-btn" aria-label="Buka navigasi">
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                </button>
            </div>
            <ul class="nav-menu">
                <li><a href="#hero">Beranda</a></li>
                <li><a href="#produk">Katalog</a></li>
                <li><a href="#footer">Kontak</a></li>
                <li><a href="#produk" class="btn btn-primary">Mulai Belanja</a></li>
            </ul>
        </header>

        <main>
            <section id="hero">
                <div class="hero-content">
                    <span class="hero-badge"><i class='bx bx-bolt-circle'></i> Premium Digital Goods</span>
                    <h1>Semua kebutuhan digital favoritmu kini cukup dari ponsel.</h1>
                    <p>AsoyJr Store menghadirkan akses instan ke aplikasi premium, tools kreatif, dan layanan produktivitas dengan transaksi yang aman dan dukungan responsif.</p>
                    <div class="hero-actions">
                        <a href="#produk" class="btn btn-primary">Jelajahi Sekarang</a>
                        <a href="https://wa.me/6281234567890" target="_blank" rel="noopener" class="btn btn-ghost">Butuh Bantuan?</a>
                    </div>
                    <div class="hero-stats">
                        <div class="stat-card">
                            <h3>75+</h3>
                            <p>Produk Digital Premium</p>
                        </div>
                        <div class="stat-card">
                            <h3>24/7</h3>
                            <p>Dukungan Pelanggan</p>
                        </div>
                        <div class="stat-card">
                            <h3>100%</h3>
                            <p>Transaksi Aman</p>
                        </div>
                    </div>
                </div>
            </section>

            <section id="produk">
                <div class="section-header">
                    <span class="section-badge"><i class='bx bx-star'></i> Katalog Terbaru</span>
                    <h2>Koleksi Produk Unggulan</h2>
                    <p>Pilih paket terbaik sesuai kebutuhanmu. Semua produk tersedia dengan garansi layanan, panduan lengkap, dan aktivasi super cepat.</p>
                </div>
                <div class="product-grid"></div>
            </section>
        </main>

        <footer class="footer" id="footer">
            <div class="footer-grid">
                <div class="footer-col">
                    <h4>AsoyJr Store</h4>
                    <p>Kami menyediakan solusi digital premium untuk menunjang kreativitas, hiburan, dan produktivitasmu langsung dari ponsel.</p>
                </div>
                <div class="footer-col">
                    <h4>Kategori Produk</h4>
                    <ul>
                        <li><a href="#produk"><i class='bx bx-palette'></i> Desain & Kreatif</a></li>
                        <li><a href="#produk"><i class='bx bx-movie-play'></i> Musik & Video</a></li>
                        <li><a href="#produk"><i class='bx bx-task'></i> Produktivitas</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>Informasi</h4>
                    <ul>
                        <li><a href="https://wa.me/6281234567890" target="_blank" rel="noopener"><i class='bx bxl-whatsapp'></i> Cara Order</a></li>
                        <li><span class="admin-access-link" id="admin-access"><i class='bx bx-lock-open-alt'></i> Admin Access (Demo)</span></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>Hubungi Kami</h4>
                    <div class="footer-socials">
                        <a href="https://wa.me/6281234567890" target="_blank" rel="noopener" aria-label="WhatsApp"><i class='bx bxl-whatsapp'></i></a>
                        <a href="#" aria-label="Discord"><i class='bx bxl-discord-alt'></i></a>
                        <a href="#" aria-label="Instagram"><i class='bx bxl-instagram'></i></a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                &copy; 2025 AsoyJr Store. Dibuat dengan ‚ù§ di Indonesia.
            </div>
        </footer>
    </div>

    <div id="product-modal">
        <div class="modal-content">
            <i class='bx bx-x modal-close' aria-label="Tutup"></i>
            <div class="modal-body">
                <div class="modal-product-icon"></div>
                <div class="modal-product-details">
                    <span class="modal-product-category"></span>
                    <h2 class="modal-product-title"></h2>
                    <p class="modal-product-price"></p>
                    <p class="modal-product-duration">
                        <i class='bx bx-time-five'></i>
                        <span class="modal-product-duration-text"></span>
                    </p>
                    <p class="modal-product-description"></p>
                </div>
            </div>
            <div class="pricing-options">
                <div class="option selected">
                    <span>Sharing - 1 Bulan</span>
                    <span class="option-price">Rp. 16.000</span>
                </div>
                <div class="option">
                    <span>Private - 1 Bulan</span>
                    <span class="option-price">Rp. 25.000</span>
                </div>
            </div>
            <button class="btn btn-primary modal-buy-btn">Lanjut ke WhatsApp</button>
        </div>
    </div>

    <section class="admin-section" id="admin-login">
        <div class="login-box">
            <h2>Admin Panel</h2>
            <p>Silakan login untuk melanjutkan (demo: admin/admin)</p>
            <input type="text" id="username" placeholder="Username">
            <input type="password" id="password" placeholder="Password">
            <p id="login-error"></p>
            <button class="btn btn-primary" id="login-btn" style="width: 100%;">Login</button>
            <button class="btn btn-ghost" id="close-login-btn" style="width: 100%;">Tutup</button>
        </div>
    </section>

    <section class="admin-section" id="admin-panel">
        <div class="panel-card">
            <div class="panel-header">
                <h1>Tambah Produk Baru</h1>
                <button class="btn btn-ghost" id="logout-btn">Logout</button>
            </div>
            <form id="add-product-form">
                <label for="product-name-input">Nama Produk</label>
                <input type="text" id="product-name-input" required>

                <label for="product-category-input">Kategori</label>
                <select id="product-category-input" required>
                    <option value="Desain & Kreatif">Desain & Kreatif</option>
                    <option value="Musik & Video">Musik & Video</option>
                    <option value="Produktivitas">Produktivitas</option>
                </select>

                <label for="product-icon-input">Kelas Ikon (dari Boxicons)</label>
                <input type="text" id="product-icon-input" placeholder="contoh: bxl-spotify" required>

                <div id="icon-preview-box">
                    <label>Pratinjau Ikon</label>
                    <div id="icon-preview"><i class='bx bx-image-alt'></i></div>
                </div>

                <label for="product-price-input">Harga (Rp) - Opsional</label>
                <input type="number" id="product-price-input" min="0" step="1000" placeholder="contoh: 25000">

                <label for="product-duration-input">Durasi (Opsional)</label>
                <input type="text" id="product-duration-input" placeholder="contoh: 1 Bulan">

                <label for="product-description-input">Deskripsi</label>
                <textarea id="product-description-input" rows="4" required></textarea>

                <button type="submit" class="btn btn-primary" style="width: 100%;">Tambah Produk ke Toko</button>
            </form>
        </div>
    </section>

    <div id="toast-notification">Produk berhasil ditambahkan!</div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const body = document.body;
            const hamburgerBtn = document.querySelector('.hamburger-btn');
            const navMenu = document.querySelector('.nav-menu');
            const navLinks = document.querySelectorAll('.nav-menu a');

            const modal = document.getElementById('product-modal');
            const modalCloseBtn = document.querySelector('.modal-close');
            const modalDurationWrapper = document.querySelector('.modal-product-duration');
            const modalDurationText = document.querySelector('.modal-product-duration-text');
            const productGrid = document.querySelector('.product-grid');
            const pricingOptions = document.querySelectorAll('.pricing-options .option');

            const adminSections = document.querySelectorAll('.admin-section');
            const adminAccessLink = document.getElementById('admin-access');
            const adminLoginSection = document.getElementById('admin-login');
            const adminPanelSection = document.getElementById('admin-panel');
            const closeLoginBtn = document.getElementById('close-login-btn');
            const loginBtn = document.getElementById('login-btn');
            const logoutBtn = document.getElementById('logout-btn');
            const loginError = document.getElementById('login-error');

            const addProductForm = document.getElementById('add-product-form');
            const iconInput = document.getElementById('product-icon-input');
            const iconPreview = document.querySelector('#icon-preview i');
            const toast = document.getElementById('toast-notification');

            const whatsappNumber = '6281234567890';

            const isAnyAdminActive = () => Array.from(adminSections).some(section => section.classList.contains('active'));

            const updateBodyScrollState = () => {
                const disableScroll = (navMenu && navMenu.classList.contains('show')) || modal.classList.contains('show') || isAnyAdminActive();
                body.classList.toggle('no-scroll', disableScroll);
            };

            const closeMenu = () => {
                if (navMenu) {
                    navMenu.classList.remove('show');
                }
                if (hamburgerBtn) {
                    hamburgerBtn.classList.remove('active');
                }
                updateBodyScrollState();
            };

            if (hamburgerBtn && navMenu) {
                hamburgerBtn.addEventListener('click', () => {
                    navMenu.classList.toggle('show');
                    hamburgerBtn.classList.toggle('active');
                    updateBodyScrollState();
                });
            }

            navLinks.forEach(link => link.addEventListener('click', closeMenu));

            window.addEventListener('resize', () => {
                if (window.innerWidth > 768) {
                    closeMenu();
                }
            });

            const truncateText = (text, maxLength = 110) => text.length > maxLength ? `${text.slice(0, maxLength - 3)}...` : text;

            const formatCurrency = (value) => new Intl.NumberFormat('id-ID', {
                style: 'currency',
                currency: 'IDR',
                minimumFractionDigits: 0
            }).format(value);

            const formatPriceLabel = (price) => {
                if (price === undefined || price === null || price === '') {
                    return 'Hubungi admin';
                }

                const numericPrice = Number(price);
                return Number.isNaN(numericPrice) ? 'Hubungi admin' : formatCurrency(numericPrice);
            };

            const products = [
                {
                    name: 'Spotify Premium',
                    category: 'Musik & Video',
                    icon: 'bxl-spotify',
                    description: 'Nikmati jutaan lagu dan podcast favorit tanpa iklan dengan kualitas audio terbaik dan playlist personal.',
                    duration: '1 Bulan',
                    price: 16000
                },
                {
                    name: 'Canva Pro',
                    category: 'Desain & Kreatif',
                    icon: 'bx-palette',
                    description: 'Buat desain profesional dalam hitungan menit. Akses template eksklusif, brand kit, dan ribuan asset premium.',
                    duration: '1 Bulan',
                    price: 45000
                },
                {
                    name: 'ChatGPT Plus',
                    category: 'Produktivitas',
                    icon: 'bx-brain',
                    description: 'Dapatkan kemampuan AI tercanggih untuk membantu belajar, bekerja, dan berkarya tanpa batas dengan respons super cepat.',
                    duration: '1 Bulan',
                    price: 320000
                },
                {
                    name: 'CapCut Pro',
                    category: 'Musik & Video',
                    icon: 'bx-movie-play',
                    description: 'Edit video sinematik dengan filter eksklusif, efek premium, dan ekspor tanpa watermark langsung dari perangkatmu.',
                    duration: '1 Bulan',
                    price: 28000
                },
                {
                    name: 'Notion AI Workspace',
                    category: 'Produktivitas',
                    icon: 'bx-bulb',
                    description: 'Organisir catatan, tugas, dan dokumen tim dalam satu workspace terpadu lengkap dengan dukungan AI pintar.',
                    duration: '1 Tahun',
                    price: 150000
                }
            ];

            const renderProducts = () => {
                productGrid.innerHTML = '';
                products.forEach(product => {
                    const card = document.createElement('div');
                    card.className = 'product-card';
                    const priceLabel = formatPriceLabel(product.price);
                    const durationBadge = product.duration ? `<span class="product-duration"><i class='bx bx-time-five'></i> ${product.duration}</span>` : '';
                    card.innerHTML = `
                        <div class="product-image"><i class='bx ${product.icon}'></i></div>
                        <span class="product-category"><i class='bx bx-category'></i> ${product.category}</span>
                        <h3 class="product-name">${product.name}</h3>
                        <p class="product-description">${truncateText(product.description)}</p>
                        ${durationBadge}
                        <span class="product-price">${priceLabel}</span>
                        <span class="product-cta">Lihat detail <i class='bx bx-right-arrow-alt'></i></span>
                    `;
                    card.dataset.name = product.name;
                    card.dataset.category = product.category;
                    card.dataset.icon = product.icon;
                    card.dataset.description = product.description;
                    card.dataset.price = product.price ?? '';
                    card.dataset.duration = product.duration ?? '';
                    card.addEventListener('click', () => showModal(card.dataset));
                    productGrid.appendChild(card);
                });
            };

            const resetPricingOptions = () => {
                pricingOptions.forEach((option, index) => {
                    option.classList.toggle('selected', index === 0);
                });
            };

            const showModal = (data) => {
                resetPricingOptions();
                document.querySelector('.modal-product-icon').innerHTML = `<i class='bx ${data.icon}'></i>`;
                document.querySelector('.modal-product-category').textContent = data.category;
                document.querySelector('.modal-product-title').textContent = data.name;
                const priceLabel = formatPriceLabel(data.price);
                document.querySelector('.modal-product-price').textContent = priceLabel;
                const rawDuration = typeof data.duration === 'string' ? data.duration : '';
                const durationText = rawDuration.trim();
                if (modalDurationWrapper && modalDurationText) {
                    if (durationText) {
                        modalDurationText.textContent = durationText;
                        modalDurationWrapper.style.display = 'flex';
                    } else {
                        modalDurationText.textContent = '';
                        modalDurationWrapper.style.display = 'none';
                    }
                }
                document.querySelector('.modal-product-description').textContent = data.description;

                const firstOptionPrice = document.querySelector('.pricing-options .option:first-child .option-price');
                if (firstOptionPrice) {
                    firstOptionPrice.textContent = priceLabel;
                }

                document.querySelector('.modal-buy-btn').onclick = () => {
                    const selectedOption = document.querySelector('.pricing-options .option.selected span:first-child').textContent;
                    const durationLine = durationText ? `\nDurasi: *${durationText}*` : '';
                    const message = encodeURIComponent(`Halo AsoyJr Store, saya tertarik untuk membeli:\n\nProduk: *${data.name}*\nHarga: *${priceLabel}*${durationLine}\nPilihan: *${selectedOption}*\n\nMohon informasinya.`);
                    window.open(`https://wa.me/${whatsappNumber}?text=${message}`, '_blank');
                };

                modal.classList.add('show');
                updateBodyScrollState();
            };

            modalCloseBtn.addEventListener('click', () => {
                modal.classList.remove('show');
                updateBodyScrollState();
            });

            modal.addEventListener('click', (event) => {
                if (event.target === modal) {
                    modal.classList.remove('show');
                    updateBodyScrollState();
                }
            });

            pricingOptions.forEach(option => {
                option.addEventListener('click', () => {
                    pricingOptions.forEach(opt => opt.classList.remove('selected'));
                    option.classList.add('selected');
                });
            });

            const showToast = () => {
                toast.classList.add('show');
                setTimeout(() => toast.classList.remove('show'), 2500);
            };

            iconInput.addEventListener('input', () => {
                const value = iconInput.value.trim();
                iconPreview.className = value ? `bx ${value}` : 'bx bx-image-alt';
            });

            addProductForm.addEventListener('submit', (event) => {
                event.preventDefault();
                const rawPrice = document.getElementById('product-price-input').value.trim();
                const parsedPrice = rawPrice === '' ? null : Number(rawPrice);
                const normalizedPrice = parsedPrice === null || Number.isNaN(parsedPrice) ? null : Math.max(parsedPrice, 0);
                const rawDuration = document.getElementById('product-duration-input').value.trim();
                const normalizedDuration = rawDuration === '' ? null : rawDuration;
                const newProduct = {
                    name: document.getElementById('product-name-input').value.trim(),
                    category: document.getElementById('product-category-input').value,
                    icon: document.getElementById('product-icon-input').value.trim() || 'bx-package',
                    price: normalizedPrice,
                    duration: normalizedDuration,
                    description: document.getElementById('product-description-input').value.trim()
                };
                products.push(newProduct);
                renderProducts();
                showToast();
                addProductForm.reset();
                iconPreview.className = 'bx bx-image-alt';
            });

            adminAccessLink.addEventListener('click', () => {
                adminLoginSection.classList.add('active');
                updateBodyScrollState();
            });

            closeLoginBtn.addEventListener('click', () => {
                adminLoginSection.classList.remove('active');
                document.getElementById('username').value = '';
                document.getElementById('password').value = '';
                loginError.textContent = '';
                updateBodyScrollState();
            });

            logoutBtn.addEventListener('click', () => {
                adminPanelSection.classList.remove('active');
                updateBodyScrollState();
            });

            loginBtn.addEventListener('click', () => {
                const username = document.getElementById('username').value.trim();
                const password = document.getElementById('password').value.trim();

                if (username === 'admin' && password === 'admin') {
                    adminLoginSection.classList.remove('active');
                    adminPanelSection.classList.add('active');
                    loginError.textContent = '';
                    document.getElementById('username').value = '';
                    document.getElementById('password').value = '';
                } else {
                    loginError.textContent = 'Username atau password salah.';
                }

                updateBodyScrollState();
            });

            renderProducts();
        });
    </script>
</body>
</html>
